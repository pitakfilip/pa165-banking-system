-- H2 2.2.224;
;             
CREATE USER IF NOT EXISTS "ACCOUNT-QUERY-SERVICE" SALT '21f469e7ee641b1b' HASH '18dbefd38a85a488a92d7cc2e485ff9c47f29703294af67d9d907903a1551190' ADMIN;      
CREATE SEQUENCE "PUBLIC"."TRANSACTION_SEQ" START WITH 1 RESTART WITH 101 INCREMENT BY 50;     
CREATE MEMORY TABLE "PUBLIC"."BALANCE"(
    "AMOUNT" NUMERIC(38, 2),
    "BALANCE_ID" CHARACTER VARYING(255) NOT NULL
);   
ALTER TABLE "PUBLIC"."BALANCE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1" PRIMARY KEY("BALANCE_ID");              
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.BALANCE; 
INSERT INTO "PUBLIC"."BALANCE" VALUES
(400.00, 'id1'),
(86.00, 'id2'),
(23.00, 'id3'),
(232.00, 'id4');   
CREATE MEMORY TABLE "PUBLIC"."TRANSACTION"(
    "AMOUNT" NUMERIC(38, 2),
    "TYPE" SMALLINT,
    "DATE" TIMESTAMP(6) WITH TIME ZONE,
    "ID" BIGINT NOT NULL,
    "PROCESS_ID" UUID,
    "BALANCE_ID" CHARACTER VARYING(255)
);      
ALTER TABLE "PUBLIC"."TRANSACTION" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_FFF" PRIMARY KEY("ID");
-- 5 +/- SELECT COUNT(*) FROM PUBLIC.TRANSACTION;             
INSERT INTO "PUBLIC"."TRANSACTION" VALUES
(433.00, 1, TIMESTAMP WITH TIME ZONE '2024-04-15 11:04:09.18155+02', 1, UUID '00000000-0000-0000-0000-000000000001', 'id1'),
(-33.00, 0, TIMESTAMP WITH TIME ZONE '2024-04-15 11:04:18.442307+02', 2, UUID '00000000-0000-0000-0000-000000000002', 'id1'),
(86.00, 2, TIMESTAMP WITH TIME ZONE '2024-04-15 11:04:32.518962+02', 3, UUID '00000000-0000-0000-0000-000000000003', 'id2'),
(23.00, 4, TIMESTAMP WITH TIME ZONE '2024-04-15 11:05:05.083367+02', 4, UUID '00000000-0000-0000-0000-000000000005', 'id3'),
(232.00, 1, TIMESTAMP WITH TIME ZONE '2024-04-15 11:05:18.375087+02', 5, UUID '00000000-0000-0000-0000-000000000006', 'id4');             
ALTER TABLE "PUBLIC"."TRANSACTION" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_FF" CHECK("TYPE" BETWEEN 0 AND 4) NOCHECK;             
ALTER TABLE "PUBLIC"."TRANSACTION" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_F" CHECK("TYPE" BETWEEN 0 AND 4) NOCHECK;              
ALTER TABLE "PUBLIC"."TRANSACTION" ADD CONSTRAINT "PUBLIC"."FKICJDGHKQ3OQKDCDC6KKUJD6O3" FOREIGN KEY("BALANCE_ID") REFERENCES "PUBLIC"."BALANCE"("BALANCE_ID") NOCHECK;       
